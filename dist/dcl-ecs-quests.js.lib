[
  {
    "path": "src/component.ts",
    "content": "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\ndefine(\"types\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n});\r\ndefine(\"component\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.QuestTrackingInfo = void 0;\r\n    // A randomly generated int32\r\n    var CLASS_ID = 1417815519;\r\n    /**\r\n     * Holds the information of a quest\r\n     * @public\r\n     */\r\n    var QuestTrackingInfo = /** @class */ (function () {\r\n        function QuestTrackingInfo(questData) {\r\n            this.questData = questData;\r\n        }\r\n        QuestTrackingInfo.prototype.toJSON = function () {\r\n            return this.questData;\r\n        };\r\n        QuestTrackingInfo = __decorate([\r\n            Component(\"engine.questTrackingComponent\", CLASS_ID)\r\n        ], QuestTrackingInfo);\r\n        return QuestTrackingInfo;\r\n    }());\r\n    exports.QuestTrackingInfo = QuestTrackingInfo;\r\n});\r\ndefine(\"mappings\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.toRendererQuest = void 0;\r\n    function toRendererQuest(serverDetails) {\r\n        return {\r\n            id: serverDetails.id,\r\n            name: serverDetails.name,\r\n            description: serverDetails.description,\r\n            icon: serverDetails.icon,\r\n            thumbnail_banner: serverDetails.thumbnailBanner,\r\n            thumbnail_entry: serverDetails.thumbnailEntry,\r\n            status: serverDetails.progressStatus,\r\n            sections: toRendererSections(serverDetails.tasks),\r\n        };\r\n    }\r\n    exports.toRendererQuest = toRendererQuest;\r\n    function toRendererSections(tasks) {\r\n        var sectionsMap = tasks.reduce(function (currentMap, task) {\r\n            var _a, _b;\r\n            var sectionName = (_a = task.section) !== null && _a !== void 0 ? _a : \"\";\r\n            var section = (_b = currentMap[sectionName]) !== null && _b !== void 0 ? _b : {\r\n                id: sectionName,\r\n                name: sectionName,\r\n                progress: 0,\r\n                tasks: [],\r\n            };\r\n            section.tasks.push(toRendererTask(task));\r\n            currentMap[sectionName] = section;\r\n            return currentMap;\r\n        }, {});\r\n        var sections = [];\r\n        for (var sectionName in sectionsMap) {\r\n            var section = sectionsMap[sectionName];\r\n            section.progress =\r\n                section.tasks.length > 0\r\n                    ? section.tasks.reduce(function (a, b) { return a + b.progress; }, 0) /\r\n                        section.tasks.length\r\n                    : 0;\r\n            sections.push(section);\r\n        }\r\n        return sections;\r\n    }\r\n    function toRendererTask(task) {\r\n        return {\r\n            id: task.id,\r\n            progress: task.progressPercentage,\r\n            name: task.description,\r\n            coordinates: task.coordinates,\r\n            payload: JSON.stringify(getProgressPayload(task)),\r\n            status: task.progressStatus,\r\n            type: task.progressMode.type,\r\n        };\r\n    }\r\n    function getProgressPayload(task) {\r\n        var _a, _b;\r\n        var progressMode = task.progressMode;\r\n        switch (progressMode.type) {\r\n            case \"single\":\r\n                return { isDone: task.progressStatus === \"completed\" };\r\n            case \"numeric\":\r\n                return {\r\n                    type: \"numeric\",\r\n                    start: progressMode.start,\r\n                    end: progressMode.end,\r\n                    current: (_b = (_a = task.progressSummary) === null || _a === void 0 ? void 0 : _a.current) !== null && _b !== void 0 ? _b : progressMode.start,\r\n                };\r\n            case \"step-based\":\r\n                // TODO\r\n                return {};\r\n        }\r\n    }\r\n});\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGNsLWVjcy1xdWVzdHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdHlwZXMudHMiLCIuLi9zcmMvY29tcG9uZW50LnRzIiwiLi4vc3JjL21hcHBpbmdzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0lDRUEsNkJBQTZCO0lBQzdCLElBQU0sUUFBUSxHQUFHLFVBQVUsQ0FBQztJQUU1Qjs7O09BR0c7SUFFSDtRQUNFLDJCQUFtQixTQUEyQjtZQUEzQixjQUFTLEdBQVQsU0FBUyxDQUFrQjtRQUFHLENBQUM7UUFFbEQsa0NBQU0sR0FBTjtZQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUN4QixDQUFDO1FBTFUsaUJBQWlCO1lBRDdCLFNBQVMsQ0FBQywrQkFBK0IsRUFBRSxRQUFRLENBQUM7V0FDeEMsaUJBQWlCLENBTTdCO1FBQUQsd0JBQUM7S0FBQSxBQU5ELElBTUM7SUFOWSw4Q0FBaUI7Ozs7OztJQ1I5QixTQUFnQixlQUFlLENBQUMsYUFBa0I7UUFDaEQsT0FBTztZQUNMLEVBQUUsRUFBRSxhQUFhLENBQUMsRUFBRTtZQUNwQixJQUFJLEVBQUUsYUFBYSxDQUFDLElBQUk7WUFDeEIsV0FBVyxFQUFFLGFBQWEsQ0FBQyxXQUFXO1lBQ3RDLElBQUksRUFBRSxhQUFhLENBQUMsSUFBSTtZQUN4QixnQkFBZ0IsRUFBRSxhQUFhLENBQUMsZUFBZTtZQUMvQyxlQUFlLEVBQUUsYUFBYSxDQUFDLGNBQWM7WUFDN0MsTUFBTSxFQUFFLGFBQWEsQ0FBQyxjQUFjO1lBQ3BDLFFBQVEsRUFBRSxrQkFBa0IsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO1NBQ2xELENBQUM7SUFDSixDQUFDO0lBWEQsMENBV0M7SUFFRCxTQUFTLGtCQUFrQixDQUFDLEtBQVk7UUFDdEMsSUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FDOUIsVUFBQyxVQUFVLEVBQUUsSUFBSTs7WUFDZixJQUFNLFdBQVcsU0FBRyxJQUFJLENBQUMsT0FBTyxtQ0FBSSxFQUFFLENBQUM7WUFDdkMsSUFBTSxPQUFPLFNBQUcsVUFBVSxDQUFDLFdBQVcsQ0FBQyxtQ0FBSTtnQkFDekMsRUFBRSxFQUFFLFdBQVc7Z0JBQ2YsSUFBSSxFQUFFLFdBQVc7Z0JBQ2pCLFFBQVEsRUFBRSxDQUFDO2dCQUNYLEtBQUssRUFBRSxFQUFFO2FBQ1YsQ0FBQztZQUVGLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBRXpDLFVBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxPQUFPLENBQUM7WUFDbEMsT0FBTyxVQUFVLENBQUM7UUFDcEIsQ0FBQyxFQUNELEVBQUUsQ0FDSCxDQUFDO1FBRUYsSUFBTSxRQUFRLEdBQXlCLEVBQUUsQ0FBQztRQUUxQyxLQUFLLElBQU0sV0FBVyxJQUFJLFdBQVcsRUFBRTtZQUNyQyxJQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFekMsT0FBTyxDQUFDLFFBQVE7Z0JBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQztvQkFDdEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFkLENBQWMsRUFBRSxDQUFDLENBQUM7d0JBQ2pELE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTTtvQkFDdEIsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVSLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDeEI7UUFFRCxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0lBRUQsU0FBUyxjQUFjLENBQUMsSUFBUztRQUMvQixPQUFPO1lBQ0wsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ1gsUUFBUSxFQUFFLElBQUksQ0FBQyxrQkFBa0I7WUFDakMsSUFBSSxFQUFFLElBQUksQ0FBQyxXQUFXO1lBQ3RCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztZQUM3QixPQUFPLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNqRCxNQUFNLEVBQUUsSUFBSSxDQUFDLGNBQWM7WUFDM0IsSUFBSSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSTtTQUM3QixDQUFDO0lBQ0osQ0FBQztJQUVELFNBQVMsa0JBQWtCLENBQUMsSUFBUzs7UUFDbkMsSUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUN2QyxRQUFRLFlBQVksQ0FBQyxJQUFJLEVBQUU7WUFDekIsS0FBSyxRQUFRO2dCQUNYLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLGNBQWMsS0FBSyxXQUFXLEVBQUUsQ0FBQztZQUN6RCxLQUFLLFNBQVM7Z0JBQ1osT0FBTztvQkFDTCxJQUFJLEVBQUUsU0FBUztvQkFDZixLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUs7b0JBQ3pCLEdBQUcsRUFBRSxZQUFZLENBQUMsR0FBRztvQkFDckIsT0FBTyxjQUFFLElBQUksQ0FBQyxlQUFlLDBDQUFFLE9BQU8sbUNBQUksWUFBWSxDQUFDLEtBQUs7aUJBQzdELENBQUM7WUFDSixLQUFLLFlBQVk7Z0JBQ2YsT0FBTztnQkFDUCxPQUFPLEVBQUUsQ0FBQztTQUNiO0lBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIFNlY3Rpb25Gb3JSZW5kZXJlciA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBwcm9ncmVzczogbnVtYmVyO1xuICB0YXNrczogVGFza0ZvclJlbmRlcmVyW107XG59O1xuXG5leHBvcnQgdHlwZSBUYXNrRm9yUmVuZGVyZXIgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBwcm9ncmVzczogbnVtYmVyO1xuICBzdGF0dXM6IHN0cmluZztcbiAgY29vcmRpbmF0ZXM/OiBzdHJpbmc7XG4gIHBheWxvYWQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFF1ZXN0Rm9yUmVuZGVyZXIgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgdGh1bWJuYWlsX2VudHJ5Pzogc3RyaW5nO1xuICB0aHVtYm5haWxfYmFubmVyPzogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbiAgaWNvbj86IHN0cmluZztcbiAgc2VjdGlvbnM6IFNlY3Rpb25Gb3JSZW5kZXJlcltdO1xufTtcbiIsImltcG9ydCB7IFF1ZXN0Rm9yUmVuZGVyZXIgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vLyBBIHJhbmRvbWx5IGdlbmVyYXRlZCBpbnQzMlxuY29uc3QgQ0xBU1NfSUQgPSAxNDE3ODE1NTE5O1xuXG4vKipcbiAqIEhvbGRzIHRoZSBpbmZvcm1hdGlvbiBvZiBhIHF1ZXN0XG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoXCJlbmdpbmUucXVlc3RUcmFja2luZ0NvbXBvbmVudFwiLCBDTEFTU19JRClcbmV4cG9ydCBjbGFzcyBRdWVzdFRyYWNraW5nSW5mbyB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBxdWVzdERhdGE6IFF1ZXN0Rm9yUmVuZGVyZXIpIHt9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXN0RGF0YTtcbiAgfVxufSIsImltcG9ydCB7IFF1ZXN0Rm9yUmVuZGVyZXIsIFNlY3Rpb25Gb3JSZW5kZXJlciwgVGFza0ZvclJlbmRlcmVyIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvUmVuZGVyZXJRdWVzdChzZXJ2ZXJEZXRhaWxzOiBhbnkpOiBRdWVzdEZvclJlbmRlcmVyIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogc2VydmVyRGV0YWlscy5pZCxcbiAgICBuYW1lOiBzZXJ2ZXJEZXRhaWxzLm5hbWUsXG4gICAgZGVzY3JpcHRpb246IHNlcnZlckRldGFpbHMuZGVzY3JpcHRpb24sXG4gICAgaWNvbjogc2VydmVyRGV0YWlscy5pY29uLFxuICAgIHRodW1ibmFpbF9iYW5uZXI6IHNlcnZlckRldGFpbHMudGh1bWJuYWlsQmFubmVyLFxuICAgIHRodW1ibmFpbF9lbnRyeTogc2VydmVyRGV0YWlscy50aHVtYm5haWxFbnRyeSxcbiAgICBzdGF0dXM6IHNlcnZlckRldGFpbHMucHJvZ3Jlc3NTdGF0dXMsXG4gICAgc2VjdGlvbnM6IHRvUmVuZGVyZXJTZWN0aW9ucyhzZXJ2ZXJEZXRhaWxzLnRhc2tzKSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gdG9SZW5kZXJlclNlY3Rpb25zKHRhc2tzOiBhbnlbXSk6IFNlY3Rpb25Gb3JSZW5kZXJlcltdIHtcbiAgY29uc3Qgc2VjdGlvbnNNYXAgPSB0YXNrcy5yZWR1Y2U8UmVjb3JkPHN0cmluZywgU2VjdGlvbkZvclJlbmRlcmVyPj4oXG4gICAgKGN1cnJlbnRNYXAsIHRhc2spID0+IHtcbiAgICAgIGNvbnN0IHNlY3Rpb25OYW1lID0gdGFzay5zZWN0aW9uID8/IFwiXCI7XG4gICAgICBjb25zdCBzZWN0aW9uID0gY3VycmVudE1hcFtzZWN0aW9uTmFtZV0gPz8ge1xuICAgICAgICBpZDogc2VjdGlvbk5hbWUsXG4gICAgICAgIG5hbWU6IHNlY3Rpb25OYW1lLFxuICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgdGFza3M6IFtdLFxuICAgICAgfTtcblxuICAgICAgc2VjdGlvbi50YXNrcy5wdXNoKHRvUmVuZGVyZXJUYXNrKHRhc2spKTtcblxuICAgICAgY3VycmVudE1hcFtzZWN0aW9uTmFtZV0gPSBzZWN0aW9uO1xuICAgICAgcmV0dXJuIGN1cnJlbnRNYXA7XG4gICAgfSxcbiAgICB7fVxuICApO1xuXG4gIGNvbnN0IHNlY3Rpb25zOiBTZWN0aW9uRm9yUmVuZGVyZXJbXSA9IFtdO1xuXG4gIGZvciAoY29uc3Qgc2VjdGlvbk5hbWUgaW4gc2VjdGlvbnNNYXApIHtcbiAgICBjb25zdCBzZWN0aW9uID0gc2VjdGlvbnNNYXBbc2VjdGlvbk5hbWVdO1xuXG4gICAgc2VjdGlvbi5wcm9ncmVzcyA9XG4gICAgICBzZWN0aW9uLnRhc2tzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBzZWN0aW9uLnRhc2tzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIucHJvZ3Jlc3MsIDApIC9cbiAgICAgICAgICBzZWN0aW9uLnRhc2tzLmxlbmd0aFxuICAgICAgICA6IDA7XG5cbiAgICBzZWN0aW9ucy5wdXNoKHNlY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIHNlY3Rpb25zO1xufVxuXG5mdW5jdGlvbiB0b1JlbmRlcmVyVGFzayh0YXNrOiBhbnkpOiBUYXNrRm9yUmVuZGVyZXIge1xuICByZXR1cm4ge1xuICAgIGlkOiB0YXNrLmlkLFxuICAgIHByb2dyZXNzOiB0YXNrLnByb2dyZXNzUGVyY2VudGFnZSxcbiAgICBuYW1lOiB0YXNrLmRlc2NyaXB0aW9uLFxuICAgIGNvb3JkaW5hdGVzOiB0YXNrLmNvb3JkaW5hdGVzLFxuICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KGdldFByb2dyZXNzUGF5bG9hZCh0YXNrKSksXG4gICAgc3RhdHVzOiB0YXNrLnByb2dyZXNzU3RhdHVzLFxuICAgIHR5cGU6IHRhc2sucHJvZ3Jlc3NNb2RlLnR5cGUsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFByb2dyZXNzUGF5bG9hZCh0YXNrOiBhbnkpIHtcbiAgY29uc3QgcHJvZ3Jlc3NNb2RlID0gdGFzay5wcm9ncmVzc01vZGU7XG4gIHN3aXRjaCAocHJvZ3Jlc3NNb2RlLnR5cGUpIHtcbiAgICBjYXNlIFwic2luZ2xlXCI6XG4gICAgICByZXR1cm4geyBpc0RvbmU6IHRhc2sucHJvZ3Jlc3NTdGF0dXMgPT09IFwiY29tcGxldGVkXCIgfTtcbiAgICBjYXNlIFwibnVtZXJpY1wiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJudW1lcmljXCIsXG4gICAgICAgIHN0YXJ0OiBwcm9ncmVzc01vZGUuc3RhcnQsXG4gICAgICAgIGVuZDogcHJvZ3Jlc3NNb2RlLmVuZCxcbiAgICAgICAgY3VycmVudDogdGFzay5wcm9ncmVzc1N1bW1hcnk/LmN1cnJlbnQgPz8gcHJvZ3Jlc3NNb2RlLnN0YXJ0LFxuICAgICAgfTtcbiAgICBjYXNlIFwic3RlcC1iYXNlZFwiOlxuICAgICAgLy8gVE9ET1xuICAgICAgcmV0dXJuIHt9O1xuICB9XG59XG4iXX0=",
    "sha256": "66205ca8b46f43f3ab6daa986fc6d82c4ebd79f7a1f55a538b9bc09cb08bc7fc"
  }
]