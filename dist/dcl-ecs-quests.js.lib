[
  {
    "path": "src/component.ts",
    "content": "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\ndefine(\"types\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n});\r\ndefine(\"component\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.QuestTrackingInfo = void 0;\r\n    // A randomly generated int32\r\n    var CLASS_ID = 1417815519;\r\n    /**\r\n     * Holds the information of a quest\r\n     * @public\r\n     */\r\n    var QuestTrackingInfo = /** @class */ (function () {\r\n        function QuestTrackingInfo(questData) {\r\n            this.questData = questData;\r\n        }\r\n        QuestTrackingInfo.prototype.toJSON = function () {\r\n            return this.questData;\r\n        };\r\n        QuestTrackingInfo = __decorate([\r\n            Component(\"engine.questTrackingComponent\", CLASS_ID)\r\n        ], QuestTrackingInfo);\r\n        return QuestTrackingInfo;\r\n    }());\r\n    exports.QuestTrackingInfo = QuestTrackingInfo;\r\n});\r\ndefine(\"mappings\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.toRendererQuest = void 0;\r\n    function toRendererQuest(serverDetails) {\r\n        return {\r\n            id: serverDetails.id,\r\n            name: serverDetails.name,\r\n            description: serverDetails.description,\r\n            icon: serverDetails.icon,\r\n            thumbnail_banner: serverDetails.thumbnailBanner,\r\n            thumbnail_entry: serverDetails.thumbnailEntry,\r\n            status: serverDetails.progressStatus,\r\n            sections: toRendererSections(serverDetails.tasks),\r\n        };\r\n    }\r\n    exports.toRendererQuest = toRendererQuest;\r\n    function toRendererSections(tasks) {\r\n        var sectionsMap = tasks.reduce(function (currentMap, task) {\r\n            var _a, _b;\r\n            var sectionName = (_a = task.section) !== null && _a !== void 0 ? _a : \"\";\r\n            var section = (_b = currentMap[sectionName]) !== null && _b !== void 0 ? _b : {\r\n                id: sectionName,\r\n                name: sectionName,\r\n                progress: 0,\r\n                tasks: [],\r\n            };\r\n            section.tasks.push(toRendererTask(task));\r\n            currentMap[sectionName] = section;\r\n            return currentMap;\r\n        }, {});\r\n        var sections = [];\r\n        for (var sectionName in sectionsMap) {\r\n            var section = sectionsMap[sectionName];\r\n            section.progress =\r\n                section.tasks.length > 0\r\n                    ? section.tasks.reduce(function (a, b) { return a + b.progress; }, 0) /\r\n                        section.tasks.length\r\n                    : 0;\r\n            sections.push(section);\r\n        }\r\n        return sections;\r\n    }\r\n    function toRendererTask(task) {\r\n        return {\r\n            id: task.id,\r\n            progress: task.progressPercentage,\r\n            name: task.description,\r\n            coordinates: task.coordinates,\r\n            payload: JSON.stringify(getProgressPayload(task)),\r\n            status: task.progressStatus,\r\n            type: task.progressMode.type,\r\n        };\r\n    }\r\n    function getProgressPayload(task) {\r\n        var _a, _b;\r\n        var progressMode = task.progressMode;\r\n        switch (progressMode.type) {\r\n            case \"single\":\r\n                return { isDone: task.progressStatus === \"completed\" };\r\n            case \"numeric\":\r\n                return {\r\n                    type: \"numeric\",\r\n                    start: progressMode.start,\r\n                    end: progressMode.end,\r\n                    current: (_b = (_a = task.progressSummary) === null || _a === void 0 ? void 0 : _a.current) !== null && _b !== void 0 ? _b : progressMode.start,\r\n                };\r\n            case \"step-based\":\r\n                // TODO\r\n                return {};\r\n        }\r\n    }\r\n});\r\ndefine(\"dcl-ecs-quests\", [\"require\", \"exports\", \"component\", \"mappings\", \"types\"], function (require, exports, component_1, mappings_1, types_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    __exportStar(component_1, exports);\r\n    __exportStar(mappings_1, exports);\r\n    __exportStar(types_1, exports);\r\n});\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGNsLWVjcy1xdWVzdHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdHlwZXMudHMiLCIuLi9zcmMvY29tcG9uZW50LnRzIiwiLi4vc3JjL21hcHBpbmdzLnRzIiwiLi4vc3JjL2RjbC1lY3MtcXVlc3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQ0VBLDZCQUE2QjtJQUM3QixJQUFNLFFBQVEsR0FBRyxVQUFVLENBQUM7SUFFNUI7OztPQUdHO0lBRUg7UUFDRSwyQkFBbUIsU0FBMkI7WUFBM0IsY0FBUyxHQUFULFNBQVMsQ0FBa0I7UUFBRyxDQUFDO1FBRWxELGtDQUFNLEdBQU47WUFDRSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDeEIsQ0FBQztRQUxVLGlCQUFpQjtZQUQ3QixTQUFTLENBQUMsK0JBQStCLEVBQUUsUUFBUSxDQUFDO1dBQ3hDLGlCQUFpQixDQU03QjtRQUFELHdCQUFDO0tBQUEsQUFORCxJQU1DO0lBTlksOENBQWlCOzs7Ozs7SUNSOUIsU0FBZ0IsZUFBZSxDQUFDLGFBQWtCO1FBQ2hELE9BQU87WUFDTCxFQUFFLEVBQUUsYUFBYSxDQUFDLEVBQUU7WUFDcEIsSUFBSSxFQUFFLGFBQWEsQ0FBQyxJQUFJO1lBQ3hCLFdBQVcsRUFBRSxhQUFhLENBQUMsV0FBVztZQUN0QyxJQUFJLEVBQUUsYUFBYSxDQUFDLElBQUk7WUFDeEIsZ0JBQWdCLEVBQUUsYUFBYSxDQUFDLGVBQWU7WUFDL0MsZUFBZSxFQUFFLGFBQWEsQ0FBQyxjQUFjO1lBQzdDLE1BQU0sRUFBRSxhQUFhLENBQUMsY0FBYztZQUNwQyxRQUFRLEVBQUUsa0JBQWtCLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQztTQUNsRCxDQUFDO0lBQ0osQ0FBQztJQVhELDBDQVdDO0lBRUQsU0FBUyxrQkFBa0IsQ0FBQyxLQUFZO1FBQ3RDLElBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQzlCLFVBQUMsVUFBVSxFQUFFLElBQUk7O1lBQ2YsSUFBTSxXQUFXLFNBQUcsSUFBSSxDQUFDLE9BQU8sbUNBQUksRUFBRSxDQUFDO1lBQ3ZDLElBQU0sT0FBTyxTQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUMsbUNBQUk7Z0JBQ3pDLEVBQUUsRUFBRSxXQUFXO2dCQUNmLElBQUksRUFBRSxXQUFXO2dCQUNqQixRQUFRLEVBQUUsQ0FBQztnQkFDWCxLQUFLLEVBQUUsRUFBRTthQUNWLENBQUM7WUFFRixPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUV6QyxVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsT0FBTyxDQUFDO1lBQ2xDLE9BQU8sVUFBVSxDQUFDO1FBQ3BCLENBQUMsRUFDRCxFQUFFLENBQ0gsQ0FBQztRQUVGLElBQU0sUUFBUSxHQUF5QixFQUFFLENBQUM7UUFFMUMsS0FBSyxJQUFNLFdBQVcsSUFBSSxXQUFXLEVBQUU7WUFDckMsSUFBTSxPQUFPLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRXpDLE9BQU8sQ0FBQyxRQUFRO2dCQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUM7b0JBQ3RCLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBZCxDQUFjLEVBQUUsQ0FBQyxDQUFDO3dCQUNqRCxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU07b0JBQ3RCLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFUixRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3hCO1FBRUQsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztJQUVELFNBQVMsY0FBYyxDQUFDLElBQVM7UUFDL0IsT0FBTztZQUNMLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtZQUNYLFFBQVEsRUFBRSxJQUFJLENBQUMsa0JBQWtCO1lBQ2pDLElBQUksRUFBRSxJQUFJLENBQUMsV0FBVztZQUN0QixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7WUFDN0IsT0FBTyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakQsTUFBTSxFQUFFLElBQUksQ0FBQyxjQUFjO1lBQzNCLElBQUksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUk7U0FDN0IsQ0FBQztJQUNKLENBQUM7SUFFRCxTQUFTLGtCQUFrQixDQUFDLElBQVM7O1FBQ25DLElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDdkMsUUFBUSxZQUFZLENBQUMsSUFBSSxFQUFFO1lBQ3pCLEtBQUssUUFBUTtnQkFDWCxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxjQUFjLEtBQUssV0FBVyxFQUFFLENBQUM7WUFDekQsS0FBSyxTQUFTO2dCQUNaLE9BQU87b0JBQ0wsSUFBSSxFQUFFLFNBQVM7b0JBQ2YsS0FBSyxFQUFFLFlBQVksQ0FBQyxLQUFLO29CQUN6QixHQUFHLEVBQUUsWUFBWSxDQUFDLEdBQUc7b0JBQ3JCLE9BQU8sY0FBRSxJQUFJLENBQUMsZUFBZSwwQ0FBRSxPQUFPLG1DQUFJLFlBQVksQ0FBQyxLQUFLO2lCQUM3RCxDQUFDO1lBQ0osS0FBSyxZQUFZO2dCQUNmLE9BQU87Z0JBQ1AsT0FBTyxFQUFFLENBQUM7U0FDYjtJQUNILENBQUM7Ozs7O0lDL0VELG1DQUEyQjtJQUMzQixrQ0FBMEI7SUFDMUIsK0JBQXVCIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgU2VjdGlvbkZvclJlbmRlcmVyID0ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIHRhc2tzOiBUYXNrRm9yUmVuZGVyZXJbXTtcbn07XG5cbmV4cG9ydCB0eXBlIFRhc2tGb3JSZW5kZXJlciA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIHN0YXR1czogc3RyaW5nO1xuICBjb29yZGluYXRlcz86IHN0cmluZztcbiAgcGF5bG9hZDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgUXVlc3RGb3JSZW5kZXJlciA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICB0aHVtYm5haWxfZW50cnk/OiBzdHJpbmc7XG4gIHRodW1ibmFpbF9iYW5uZXI/OiBzdHJpbmc7XG4gIHN0YXR1czogc3RyaW5nO1xuICBpY29uPzogc3RyaW5nO1xuICBzZWN0aW9uczogU2VjdGlvbkZvclJlbmRlcmVyW107XG59O1xuIiwiaW1wb3J0IHsgUXVlc3RGb3JSZW5kZXJlciB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8vIEEgcmFuZG9tbHkgZ2VuZXJhdGVkIGludDMyXG5jb25zdCBDTEFTU19JRCA9IDE0MTc4MTU1MTk7XG5cbi8qKlxuICogSG9sZHMgdGhlIGluZm9ybWF0aW9uIG9mIGEgcXVlc3RcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudChcImVuZ2luZS5xdWVzdFRyYWNraW5nQ29tcG9uZW50XCIsIENMQVNTX0lEKVxuZXhwb3J0IGNsYXNzIFF1ZXN0VHJhY2tpbmdJbmZvIHtcbiAgY29uc3RydWN0b3IocHVibGljIHF1ZXN0RGF0YTogUXVlc3RGb3JSZW5kZXJlcikge31cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlc3REYXRhO1xuICB9XG59IiwiaW1wb3J0IHsgUXVlc3RGb3JSZW5kZXJlciwgU2VjdGlvbkZvclJlbmRlcmVyLCBUYXNrRm9yUmVuZGVyZXIgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9SZW5kZXJlclF1ZXN0KHNlcnZlckRldGFpbHM6IGFueSk6IFF1ZXN0Rm9yUmVuZGVyZXIge1xuICByZXR1cm4ge1xuICAgIGlkOiBzZXJ2ZXJEZXRhaWxzLmlkLFxuICAgIG5hbWU6IHNlcnZlckRldGFpbHMubmFtZSxcbiAgICBkZXNjcmlwdGlvbjogc2VydmVyRGV0YWlscy5kZXNjcmlwdGlvbixcbiAgICBpY29uOiBzZXJ2ZXJEZXRhaWxzLmljb24sXG4gICAgdGh1bWJuYWlsX2Jhbm5lcjogc2VydmVyRGV0YWlscy50aHVtYm5haWxCYW5uZXIsXG4gICAgdGh1bWJuYWlsX2VudHJ5OiBzZXJ2ZXJEZXRhaWxzLnRodW1ibmFpbEVudHJ5LFxuICAgIHN0YXR1czogc2VydmVyRGV0YWlscy5wcm9ncmVzc1N0YXR1cyxcbiAgICBzZWN0aW9uczogdG9SZW5kZXJlclNlY3Rpb25zKHNlcnZlckRldGFpbHMudGFza3MpLFxuICB9O1xufVxuXG5mdW5jdGlvbiB0b1JlbmRlcmVyU2VjdGlvbnModGFza3M6IGFueVtdKTogU2VjdGlvbkZvclJlbmRlcmVyW10ge1xuICBjb25zdCBzZWN0aW9uc01hcCA9IHRhc2tzLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBTZWN0aW9uRm9yUmVuZGVyZXI+PihcbiAgICAoY3VycmVudE1hcCwgdGFzaykgPT4ge1xuICAgICAgY29uc3Qgc2VjdGlvbk5hbWUgPSB0YXNrLnNlY3Rpb24gPz8gXCJcIjtcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBjdXJyZW50TWFwW3NlY3Rpb25OYW1lXSA/PyB7XG4gICAgICAgIGlkOiBzZWN0aW9uTmFtZSxcbiAgICAgICAgbmFtZTogc2VjdGlvbk5hbWUsXG4gICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICB0YXNrczogW10sXG4gICAgICB9O1xuXG4gICAgICBzZWN0aW9uLnRhc2tzLnB1c2godG9SZW5kZXJlclRhc2sodGFzaykpO1xuXG4gICAgICBjdXJyZW50TWFwW3NlY3Rpb25OYW1lXSA9IHNlY3Rpb247XG4gICAgICByZXR1cm4gY3VycmVudE1hcDtcbiAgICB9LFxuICAgIHt9XG4gICk7XG5cbiAgY29uc3Qgc2VjdGlvbnM6IFNlY3Rpb25Gb3JSZW5kZXJlcltdID0gW107XG5cbiAgZm9yIChjb25zdCBzZWN0aW9uTmFtZSBpbiBzZWN0aW9uc01hcCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9uc01hcFtzZWN0aW9uTmFtZV07XG5cbiAgICBzZWN0aW9uLnByb2dyZXNzID1cbiAgICAgIHNlY3Rpb24udGFza3MubGVuZ3RoID4gMFxuICAgICAgICA/IHNlY3Rpb24udGFza3MucmVkdWNlKChhLCBiKSA9PiBhICsgYi5wcm9ncmVzcywgMCkgL1xuICAgICAgICAgIHNlY3Rpb24udGFza3MubGVuZ3RoXG4gICAgICAgIDogMDtcblxuICAgIHNlY3Rpb25zLnB1c2goc2VjdGlvbik7XG4gIH1cblxuICByZXR1cm4gc2VjdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHRvUmVuZGVyZXJUYXNrKHRhc2s6IGFueSk6IFRhc2tGb3JSZW5kZXJlciB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHRhc2suaWQsXG4gICAgcHJvZ3Jlc3M6IHRhc2sucHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIG5hbWU6IHRhc2suZGVzY3JpcHRpb24sXG4gICAgY29vcmRpbmF0ZXM6IHRhc2suY29vcmRpbmF0ZXMsXG4gICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoZ2V0UHJvZ3Jlc3NQYXlsb2FkKHRhc2spKSxcbiAgICBzdGF0dXM6IHRhc2sucHJvZ3Jlc3NTdGF0dXMsXG4gICAgdHlwZTogdGFzay5wcm9ncmVzc01vZGUudHlwZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvZ3Jlc3NQYXlsb2FkKHRhc2s6IGFueSkge1xuICBjb25zdCBwcm9ncmVzc01vZGUgPSB0YXNrLnByb2dyZXNzTW9kZTtcbiAgc3dpdGNoIChwcm9ncmVzc01vZGUudHlwZSkge1xuICAgIGNhc2UgXCJzaW5nbGVcIjpcbiAgICAgIHJldHVybiB7IGlzRG9uZTogdGFzay5wcm9ncmVzc1N0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIiB9O1xuICAgIGNhc2UgXCJudW1lcmljXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcIm51bWVyaWNcIixcbiAgICAgICAgc3RhcnQ6IHByb2dyZXNzTW9kZS5zdGFydCxcbiAgICAgICAgZW5kOiBwcm9ncmVzc01vZGUuZW5kLFxuICAgICAgICBjdXJyZW50OiB0YXNrLnByb2dyZXNzU3VtbWFyeT8uY3VycmVudCA/PyBwcm9ncmVzc01vZGUuc3RhcnQsXG4gICAgICB9O1xuICAgIGNhc2UgXCJzdGVwLWJhc2VkXCI6XG4gICAgICAvLyBUT0RPXG4gICAgICByZXR1cm4ge307XG4gIH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50J1xuZXhwb3J0ICogZnJvbSAnLi9tYXBwaW5ncydcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnIl19",
    "sha256": "76663b7544e67fe0439fe612a921458253f28ba3e6053e9483931f2c3038fd85"
  }
]